<!DOCTYPE html>
<html lang="en">

<head>
</head>

    <body>

    <h1>Hello</h1>
    <p>One file can be uploaded using ajax.<br>
        It will seem like nothing happened.<br>
        Click upload then check the uploads folder.</p>



    <form id="upload-file" method="post" enctype="multipart/form-data">
        <fieldset>
            <label for="file">Select a file</label>
            <input name="my_files" type="file" multiple>
        </fieldset>
        <fieldset>
            <button id="upload-file-btn" type="button">Upload</button>
        </fieldset>
    </form>

    </body>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<script>
    $(function() {
    $('#upload-file-btn').click(function() {
        var form_data = new FormData($('#upload-file')[0]);

        console.log(form_data);

        $.ajax({
            type: 'POST',
            url: '/uploadajax',
            data: form_data,
            contentType: false,
            cache: false,
            processData: false,
            success: function(data) {
                console.log('Success!');
            },
        });
    });
});
</script>
</html>